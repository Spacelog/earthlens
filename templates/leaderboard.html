{% extends "base.html" %}

{% block content %}
<table class="leaderboard">
    <tr>
        <th>#</th>
        <th>
            {% if sort_key = "username" %}
                <a href="?sort=username{% if descending %}&descending=false{% endif %}">Name</a>
                {% if descending %}⬇{% else %}⬆{% endif %}
            {% else %}
                <a href="?sort=username">Name</a>
            {% endif %}
        </th>
        <th>
            {% if sort_key = "total" %}
                <a href="?sort=total{% if descending %}&descending=false{% endif %}">Total votes</a>
                {% if descending %}⬇{% else %}⬆{% endif %}
            {% else %}
                <a href="?sort=total">Total votes</a>
            {% endif %}
        </th>
        <th>
            {% if sort_key = "tags" %}
                <a href="?sort=tags{% if descending %}&descending=false{% endif %}">Total tags</a>
                {% if descending %}⬇{% else %}⬆{% endif %}
            {% else %}
                <a href="?sort=tags">Total tags</a>
            {% endif %}
        </th>
        <th class="awesome">
            {% if sort_key = "awesome" %}
                <a href="?sort=awesome{% if descending %}&descending=false{% endif %}">Awesome</a>
                {% if descending %}⬇{% else %}⬆{% endif %}
            {% else %}
                <a href="?sort=awesome">Awesome</a>
            {% endif %}
        </th>
        <th class="good">
            {% if sort_key = "good" %}
                <a href="?sort=good{% if descending %}&descending=false{% endif %}">Good</a>
                {% if descending %}⬇{% else %}⬆{% endif %}
            {% else %}
                <a href="?sort=good">Good</a>
            {% endif %}
        </th>
        <th class="neutral">
            {% if sort_key = "neutral" %}
                <a href="?sort=neutral{% if descending %}&descending=false{% endif %}">Neutral</a>
                {% if descending %}⬇{% else %}⬆{% endif %}
            {% else %}
                <a href="?sort=neutral">Neutral</a>
            {% endif %}        
        </th>
        <th class="bad">
            {% if sort_key = "bad" %}
                <a href="?sort=bad{% if descending %}&descending=false{% endif %}">Bad</a>
                {% if descending %}⬇{% else %}⬆{% endif %}
            {% else %}
                <a href="?sort=bad">Bad</a>
            {% endif %}        </th>
    </tr>
    {% for user in table %}
    <tr>
        <td>{{ forloop.counter }}</td>
        <td>{{ user.username }}</td>
        <td>{{ user.total }}</td>
        <td>{{ user.tags }}</td>
        <td style="background-image: linear-gradient(to top, #444444 0%, #444444 {{ user.awesome }}%, #000000 0%);">
            {{ user.awesome }}%
        </td>
        <td style="background-image: linear-gradient(to top, #444444 0%, #444444 {{ user.good }}%, #000000 0%);">
            {{ user.good }}%
        </td>
        <td style="background-image: linear-gradient(to top, #444444 0%, #444444 {{ user.neutral }}%, #000000 0%);">
            {{ user.neutral }}%
        </td>
        <td style="background-image: linear-gradient(to top, #444444 0%, #444444 {{ user.bad }}%, #000000 0%);">
            {{ user.bad }}%
        </td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
