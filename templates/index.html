{% extends "base.html" %}

{% block extra_head %}
    <script>
        var next_offset = {{ page_size }};
        $(function () {
            $(".load-more").click(function () {
                $.get('{% url "index-ajax" %}?offset=' + next_offset, function(data) {   
                    $('.image-grid').append(data);
                    next_offset += {{ page_size }};
                });
            })
        })
    </script>
{% endblock %}

{% block content %}
    <div class="image-grid">
        {% include "_index_rows.html" %}
    </div>
    <p class="load-more">Load more</p>
{% endblock %}
